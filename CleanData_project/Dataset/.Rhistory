source('~/pollutantmean.R')
getMean_Singel("specdata","sulfate",str_c_To3(1))
source('~/pollutantmean.R')
library(stringr)
##读取相应id（vector）monitor数据
##计算mean值并返回
result_totall<-c()
#字符串连接为三个
str_c_To3<-function(id){
if(id<10){
result<-str_c("00",id)
}
if(id>=10 && id<100){
result<-str_c("0",id)
}
result
}
#计算单个文件mean
getMean_Singel<-function(directory,pollutant,id){
result<-read.csv(str_c(directory,"/",id,".csv"))
##mean_result<-mean(result[[pollutant]],na.rm=TRUE)
}
for (x in id){
result_totall<-c(result_totall,getMean_Singel(str_c_To3(x)))
}
getMean_Singel("specdata","sulfate",str_c_To3(1))
source('~/pollutantmean.R')
source('~/pollutantmean.R')
mean_result<-mean(result[[pollutant]],na.rm=TRUE)
#计算单个文件mean
getMean_Singel<-function(directory,pollutant,id){
result<-read.csv(str_c(directory,"/",id,".csv"))
mean_result<-mean(result[[pollutant]],na.rm=TRUE)
}
for (x in id){
result_totall<-c(result_totall,getMean_Singel(str_c_To3(x)))
}
mean(result_totall)
pollutantmean<- function(directory,pollutant,id=1:332){
library(stringr)
##读取相应id（vector）monitor数据
##计算mean值并返回
result_totall<-c()
#字符串连接为三个
str_c_To3<-function(id){
if(id<10){
result<-str_c("00",id)
}
if(id>=10 && id<100){
result<-str_c("0",id)
}
result
}
#计算单个文件mean
getMean_Singel<-function(directory,pollutant,id){
result<-read.csv(str_c(directory,"/",id,".csv"))
mean_result<-mean(result[[pollutant]],na.rm=TRUE)
}
for (x in id){
result_totall<-c(result_totall,getMean_Singel(str_c_To3(x)))
}
mean(result_totall)
}
source('~/pollutantmean.R')
source('~/pollutantmean.R')
source('~/pollutantmean.R')
source('~/pollutantmean.R')
source('~/pollutantmean.R')
source('~/pollutantmean.R')
result<-read.csv(str_c(directory,"/",id,".csv"))
mean_result<-mean(result[[pollutant]],na.rm=TRUE)
#计算单个文件mean
getMean_Singel<-function(id){
result<-read.csv(str_c(directory,"/",id,".csv"))
mean_result<-mean(result[[pollutant]],na.rm=TRUE)
}
for (x in id){
result_totall<-c(result_totall,getMean_Singel(str_c_To3(x)))
}
mean(result_totall)
pollutantmean<- function(directory,pollutant,id=1:332){
library(stringr)
##读取相应id（vector）monitor数据
##计算mean值并返回
result_totall<-c()
#字符串连接为三个
str_c_To3<-function(id){
if(id<10){
result<-str_c("00",id)
}
if(id>=10 && id<100){
result<-str_c("0",id)
}
result
}
#计算单个文件mean
getMean_Singel<-function(id){
result<-read.csv(str_c(directory,"/",id,".csv"))
mean_result<-mean(result[[pollutant]],na.rm=TRUE)
}
for (x in id){
result_totall<-c(result_totall,getMean_Singel(str_c_To3(x)))
}
mean(result_totall)
}
pollutantmean("specdata","sulfate",1:2)
source('~/pollutantmean.R')
source('~/pollutantmean.R')
source('~/pollutantmean.R')
set.seed(1)
rpois(5,2)
library(datasets)
Rprof()
fit <- lm(y ~ x1 + x2)
Rprof(NULL)
y<-1
x1<-1
x2<-1
library(datasets)
Rprof()
fit <- lm(y ~ x1 + x2)
Rprof(NULL)
summaryRprof()
$by.total
$by.total
summaryRprof()$by.total
summaryRprof()$by.total$total.time
library(swirl)
install.packages(swirl)
install.packages("swirl")
library(swirl)
swirl()
?sample
sample(1:6,4,replace=TRUE)
sample(1:6,4,replace=TRUE)
sample(1:20,10)
LETTERS
sample(LETTERS)
sample(c(0,1),100,replace = TRUE,prob=c(0.3,0.7))
flips<-sample(c(0,1),100,replace = TRUE,prob=c(0.3,0.7))
flips
sum(flips)
?rbinom
rbinom(1,size=100,prob=0.7)
flips<-rbinom(1,size=100,prob=0.7)
flips2<-rbinom(100,1,0.7)
flips2
sum(flips2)
rnorm()
info*()
info()
?rnorm
rnorm(1)
rnorm(10)
rnorm(10,100,25)
?rpois
ropis()
?rpois
info()
skip()
my_pois<-replicate(100,rpois(5,10))
my_pois
cm<-colMeans(my_Pois)
cm<-colMeans(my_pois)
cm
hist(cm)
data(cars)
?cars
head(cars)
plot(cars)
?plot
plot(x=car$speed,y=car$dist)
plot(x=cars$speed,y=cars$dist)
plot(dist~speed,cars)
plot(x=cars$dist,y=cars$speed)
plot(x=cars$speed,y=cars$dict,"Speed")
plot(x = cars$speed, y = cars$dist, xlab = "Speed")
plot(x = cars$speed, y = cars$dist, ylab = "Stopping Distance")
plot(x = cars$speed, y = cars$dist,xlab = "Speed", ylab = "Stopping Distance")
plot(cars,main="My Plot")
skip()
skip()
plot(cars,xlim=c(10,15))
plot(cars,pch=2)
data(mtcars)
?boxplot
boxplot(mpg~cyl,data=mtcars)
hist(mtcars$mpg)
getwd()
ls()
ls
dir()
outcome<-read.csv("outcome-of-care-measures.csv",colClasses = "character")
outcome
head(outcome)
outcome[,11]<-as.numeric(outcome[,11])
hist(outcome[,11])
names(outcome)
state<-outcome[,5]
head(state)
state
state<-outcome[,7]
state
hist(state)
xx<-state[which(state$State=="AL")]
xx<-outcome[which(outcome$State=="AL")]
xx<-outcome[which(outcome[,7]=="AL")]
xx<-outcome$State
which(xx=="AL")
yy<-which(xx=="AL")
outcome[yy]
outcome[yy,]
xx<-outcome[which(outcome$State=="AL"),]
head(xx)
outcome
outcome1<-order(outcome[,1])
outcome1
outcome1<-outcome[,1]
outcome2<-which(outcome1=max(outcome1),arr.ind = TRUE)
outcome1
outcome2<-which(outcome1==max(outcome1),arr.ind = TRUE)
outcome2
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
x<-"xxxxx"
y<-"xxxxx"
x==y
x<-"heart attack"
y<-"heart attack"
x==y
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
outcome1<-read.csv("outcome-of-care-measures.csv")
#get the state
state_Vector<-outcome1[which(outcome1$State==state),]
state_Vector[,11]
min(state_Vector[,11])
xx<-state_Vector[,11]
class(xx)
as.ordered(xx)
summary(xx)
min(xx)
as.array(xx)
min(xx)
min(as.array(xx))
min(as.vector(xx))
source('~/best.R')
source('~/best.R')
source('~/best.R')
source('~/best.R')
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
outcome1<-read.csv("outcome-of-care-measures.csv")
#get the state
state_Vector<-as.vector(outcome1[which(outcome1$State==state),])
out<-state_Vector[,11]
class(out)
out<-as.vector((state_Vector[,11]))
class(out)
type(out)
head(out)
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
source('~/best.R')
source('~/best.R')
source('~/best.R')
best("TX","heart attack")
outcome1<-read.csv("outcome-of-care-measures.csv")
#get the state
state_Vector<-as.vector(outcome1[which(outcome1$State==state),])
names(state_Vector)
source('~/best.R')
best("TX","heart attack")
source('~/best.R')
best("TX","heart attack")
best("TX", "heart failure")
source('~/best.R')
source('~/best.R')
source('~/best.R')
best("TX", "heart failure")
source('~/best.R')
best("TX", "heart failure")
best("MD", "heart attack")
source('~/best.R')
source('~/best.R')
best("MD", "heart attack")
source('~/best.R')
library(swirl)
install_from_swirl("Getting and Cleaning Data")
swirl()
getwd()
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv",destfile = "/Users/fotoable/test.csv",method="curl")
result<-read.csv("/Users/fotoable/test.csv")
head(result)
names(result)
logic1<-result$ACR==3
head(logic1)
logic2<-(result$ACR==3)&(result$AGS==6)
head(logic2)
which(logic2)
dim(logic2)
str(logic2)
str(result)
install.packages("jpeg")
library(jpeg)
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fjeff.jpg",destfile = "/Users/fotoable/test.jpeg",method = "curl")
readJPEG("/Users/fotoable/test.jpeg",native=TRUE)
jpeg<-readJPEG("/Users/fotoable/test.jpeg",native=TRUE)
head(jpeg)
summary(jpeg)
names(jpeg)
dim(jpeg)
quantile(jpeg)
quantile(jpeg,probs = c(0.3,0.8))
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv",destfile = "/Users/fotoable/A.csv",method = "curl")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv",destfile = "/Users/fotoable/B.csv",method = "curl")
a<-read.csv("A.csv")
b<-read.csv("B.csv")
names(a)
names(b)
dim(a)
dim(b)
head(a,3)
head(b,3)
head(a,6)
mergedata<-merge(a,b,b.x="CountryCode",all=FALSE)
dim(mergedata)
head(mergedata,4)
merge1<-merge(a,b,all=FALSE)
dim(merge1)
merge1<-merge(a,b,all=TRUE)
dim(merge1)
sum1<-(a$Gross.domestic.product.2012 %in5 b$CountryCode)
a$Gross.domestic.product.2012 %in% b$CountryCode
names(a)
head(a,5)
a$X %in% b$CountryCode
result1<-( a$X %in% b$CountryCode)
sum(result1==TRUE)
result1<-( b$CountryCode %in% a$X)
sum(result==TRUE)
head(result1)
sum(result==TRUE,na.rm = TRUE)
dim(b)
sum(result1==TRUE,na.rm = TRUE)
getwd()
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv",destfile = "/Users/fotoable/2.csv",method = "curl")
re2<-read.csv("2.csv")
head(re2.4)
head(re2,2)
head(re2,4)
head(re2,5)
names(re2)
re2[,5]
re2[[10,],5]
re2[10:,5]
re2[c(10:length(re2)),5]
cosss<-re[,5]
cosss<-re2[,5]
cosss
cosss[3]
cosss[4]
cosss[5]
number_str<-re2[c(5:length(re2)),5]
number_str
class(number_str)
gsub(",","",number_str)
length(re2)
dim(re2)
dim(re2)[1]
number_str<-re2[c(5:dim(re2)[1]),5]
number_str
gsub(",","",number_str)
result<-gsub(",","",number_str)
result<-result[which(result!="")]
result
result<-result[which(result!="..")]
result
result<-as.numeric(result)
result
mean(result)
mean(result[1:190])
setwd("~/datasciencecoursera/CleanData_project/Dataset")
#load the features.txt and use grep to distract the index of mean and divation
features<-read.table("features.txt")
features_v2<-features$V2
mean_std_index<-grep("mean[()]|std[()]",features_v2,value = F)
getwd()
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
setwd("~/datasciencecoursera/CleanData_project/Dataset")
#load the features.txt and use grep to distract the index of mean and divation
features<-read.table("features.txt")
features_v2<-features$V2
mean_std_index<-grep("mean[()]|std[()]",features_v2,value = F)
#test
test_subject<-read.table("/test/subject_test.txt")
test_x<-read.table("/test/X_test.txt")
test_y<-read.table("/test/Y_test.txt")
test_x_mean_std<-test_x[,mean_std_index]
#test
test_subject<-read.table("/test/subject_test.txt")
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
#test
test_subject<-read.table("test/subject_test.txt")
test_x<-read.table("test/X_test.txt")
test_y<-read.table("test/Y_test.txt")
test_x_mean_std<-test_x[,mean_std_index]
run_analysis<-function(){
setwd("~/datasciencecoursera/CleanData_project/Dataset")
#load the features.txt and use grep to distract the index of mean and divation
features<-read.table("features.txt")
features_v2<-features$V2
mean_std_index<-grep("mean[()]|std[()]",features_v2,value = F)
#test
test_subject<-read.table("test/subject_test.txt")
test_x<-read.table("test/X_test.txt")
test_y<-read.table("test/Y_test.txt")
test_x_mean_std<-test_x[,mean_std_index]
}
head(test_subject)
head(test_x)
dim(test_x)
dim(test_x_mean_std)
dim(mean_std_index)
mean_std_index
length((mean_std_index))
head(test_x_mean_std)
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
dim(train_subject)
#load the features.txt and use grep to distract the index of mean and divation
features<-read.table("features.txt")
features_v2<-features$V2
mean_std_index<-grep("mean[()]|std[()]",features_v2,value = F)
#test
test_subject<-read.table("test/subject_test.txt")
test_x<-read.table("test/X_test.txt")
test_y<-read.table("test/Y_test.txt")
test_x_mean_std<-test_x[,mean_std_index]
#train
train_subject<-read.table("train/subject_test.txt")
train_x<-read.table("train/X_test.txt")
train_y<-read.table("train/Y_test.txt")
train_x_mean_std<-train_x[,mean_std_index]
}
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
setwd("~/datasciencecoursera/CleanData_project/Dataset")
#load the features.txt and use grep to distract the index of mean and divation
features<-read.table("features.txt")
features_v2<-features$V2
mean_std_index<-grep("mean[()]|std[()]",features_v2,value = F)
#test
test_subject<-read.table("test/subject_test.txt")
test_x<-read.table("test/X_test.txt")
test_y<-read.table("test/Y_test.txt")
test_x_mean_std<-test_x[,mean_std_index]
#train
train_subject<-read.table("train/subject_train.txt")
train_x<-read.table("train/X_train.txt")
train_y<-read.table("train/Y_train.txt")
train_x_mean_std<-train_x[,mean_std_index]
}
dim(train_subject)
dim(train_x)
dim(train_y)
dim(train_x_mean_std)
View(test_x_mean_std)
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
source('~/datasciencecoursera/CleanData_project/Dataset/analysis1.R')
